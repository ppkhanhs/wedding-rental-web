
@{
    ViewBag.Title = "OrderDetails";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

@model web_thuedocuoi.Models.DONHANG


<div id="main" class="page-container">
    <div class="d-flex d-sm-flex align-items-center mb-4">
        <button class="btn btn-primary" onclick="toggleNav()"><i class="fas fa-bars"></i></button>
        <h1 class="h4 mb-0 text-gray-800 ms-3"><a class="text-link" href="/Home/Index">Home</a> / Quản lý đơn hàng / Chi tiết đơn hàng</h1>
    </div>

    <div class="row">
        <div class="col-lg-12 mb-4">
            <div class="card shadow mb-4">
                <div class="card-header py-3">
                    <h6 class="m-0 font-weight-bold text-primary">Chi tiết đơn hàng @Model.MADH</h6>
                </div>
                <div class="card-body">
                    <h4>Thông tin đơn hàng</h4>
                    <ul class="list-unstyled">
                        <li><strong>Mã đơn hàng:</strong> @Model.MADH</li>
                        <li><strong>Mã khách hàng:</strong> @Model.MAKH</li>
                        <li><strong>Ngày thuê:</strong> @Model.NGAYTHUE.ToString("dd/MM/yyyy")</li>
                        <li><strong>Ngày trả:</strong> @Model.NGAYTRA.ToString("dd/MM/yyyy")</li>
                        <li><strong>Phụ thu:</strong> @Model.PHUTHU</li>
                        <li><strong>Giảm giá:</strong> @Model.GIAMGIA %</li>
                        <li><strong>Tổng tiền:</strong> @Model.TONGTIEN</li>
                        <li><strong>Trạng thái:</strong> <span class="badge @(Model.TRANGTHAI == "Đang thuê" ? "bg-warning" : (Model.TRANGTHAI == "Hoàn thành" ? "bg-success" : "bg-danger"))">@Model.TRANGTHAI</span></li>
                    </ul>

                    <h4>Chi tiết đơn hàng</h4>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Mã sản phẩm</th>
                                <th>Tên sản phẩm</th>
                                <th>Số lượng</th>
                                <th>Đơn giá</th>
                                <th>Thành tiền</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model.CHITIETDHs)
                            {
                                <tr>
                                    <td>@item.MASP</td>
                                    <td>@item.SANPHAM.TENSP</td>
                                    <td>@item.SOLUONG</td>
                                    <td>@item.DONGIA</td>
                                    <td>@(item.SOLUONG * item.DONGIA)</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


